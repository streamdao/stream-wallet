{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { memo, useState, useEffect } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { Background } from \"../components\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { theme } from \"../core/theme\";\nvar colors = theme.colors,\n    Nunito_Sans = theme.fonts.Nunito_Sans;\nimport { useStoreState, useStoreActions } from \"../hooks/storeHooks\";\nimport * as SecureStore from 'expo-secure-store';\nimport * as Haptics from 'expo-haptics';\nimport { TokenListProvider } from '@solana/spl-token-registry';\nimport { Connection } from '@solana/web3.js';\n\nvar PassCodeScreen = function PassCodeScreen(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      code = _useState2[0],\n      setCode = _useState2[1];\n\n  var updatePasscode = useStoreActions(function (actions) {\n    return actions.updatePasscode;\n  });\n  var passcode = useStoreState(function (state) {\n    return state.passcode;\n  });\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var tokenMap = useStoreState(function (state) {\n    return state.tokenMap;\n  });\n  var setTokenMap = useStoreActions(function (actions) {\n    return actions.setTokenMap;\n  });\n  var setAllTokens = useStoreActions(function (actions) {\n    return actions.setAllTokens;\n  });\n  var tokenPairs = useStoreState(function (state) {\n    return state.tokenPairs;\n  });\n  var setTokenPairs = useStoreActions(function (actions) {\n    return actions.setTokenPairs;\n  });\n  var setWeb3Connection = useStoreActions(function (actions) {\n    return actions.web3Connection;\n  });\n\n  function checkLocalPasscode(passcodeKey, code) {\n    var result, mnemonic;\n    return _regeneratorRuntime.async(function checkLocalPasscode$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(SecureStore.getItemAsync(passcodeKey));\n\n          case 2:\n            result = _context.sent;\n\n            if (!(result === code)) {\n              _context.next = 11;\n              break;\n            }\n\n            updatePasscode(code);\n            _context.next = 7;\n            return _regeneratorRuntime.awrap(SecureStore.getItemAsync(code));\n\n          case 7:\n            mnemonic = _context.sent;\n\n            if (mnemonic) {\n              Haptics.notificationAsync(Haptics.NotificationFeedbackType.Success);\n              navigation.navigate('Main');\n            } else {\n              navigation.navigate('Onboarding');\n            }\n\n            _context.next = 14;\n            break;\n\n          case 11:\n            Haptics.notificationAsync(Haptics.NotificationFeedbackType.Error);\n            setError(true);\n            setCode('');\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function getTokenPairs() {\n    return fetch('https://serum-api.bonfida.com/pairs').then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      var removedPools = res.data.filter(function (value) {\n        return !['-', 'LQID', 'ODOP', 'xCOPE', 'CCAI', 'PLEB', 'BVOL', 'POOL', 'BTC/SRM', 'FTT/SRM', 'YFI/SRM', 'SUSHI/SRM', 'ETH/SRM', 'RAY/SRM', 'RAY/ETH', 'MSRM'].some(function (el) {\n          return value.includes(el);\n        });\n      });\n      var symbolsArray = [];\n\n      for (var i = 0; i < removedPools.length; i++) {\n        var el = removedPools[i];\n        var splitArray = el.split('/');\n        symbolsArray.push.apply(symbolsArray, _toConsumableArray(splitArray));\n      }\n\n      var dedupedSymbols = _toConsumableArray(new Set(symbolsArray));\n\n      var cleanArray = [];\n\n      for (var _i = 0; _i < dedupedSymbols.length; _i++) {\n        var _el = dedupedSymbols[_i];\n\n        if (_el.length < 15) {\n          cleanArray.push(_el);\n        }\n      }\n\n      var finishedArray = [];\n\n      var _loop = function _loop(_i2) {\n        var el = cleanArray[_i2];\n        var pairs = removedPools.filter(function (str) {\n          return str.indexOf(el) >= 0;\n        });\n        var pairsArray = [];\n\n        for (var _i3 = 0; _i3 < pairs.length; _i3++) {\n          var el2 = pairs[_i3];\n          var removeSymbol = el2.replace(el, '');\n          var removeSlash = removeSymbol.replace('/', '');\n          var side = void 0;\n          removeSlash === el2.slice(0, removeSlash.length) ? side = 'buy' : side = 'sell';\n          var newPair = {\n            pair: el2,\n            symbol: removeSlash,\n            side: side\n          };\n          pairsArray.push(newPair);\n        }\n\n        var finishedObject = {\n          symbol: el,\n          pairs: pairsArray\n        };\n        finishedArray.push(finishedObject);\n      };\n\n      for (var _i2 = 0; _i2 < cleanArray.length; _i2++) {\n        _loop(_i2);\n      }\n\n      setTokenPairs(finishedArray);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  }\n\n  function setupWeb3() {\n    var url, connection;\n    return _regeneratorRuntime.async(function setupWeb3$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            url = 'https://solana--mainnet.datahub.figment.io/apikey/5d2d7ea54a347197ccc56fd24ecc2ac5';\n            connection = new Connection(url);\n            setWeb3Connection(connection);\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  useEffect(function () {\n    getTokenPairs();\n    new TokenListProvider().resolve().then(function (tokens) {\n      var tokenList = tokens.filterByClusterSlug('mainnet-beta').getList();\n      setTokenMap(tokenList == null ? void 0 : tokenList.reduce(function (map, item) {\n        map.set(item.address, item);\n        return map;\n      }, new Map()));\n    });\n  }, []);\n  useEffect(function () {\n    if (code.length === 4) {\n      var passcodeKey = code + 'key';\n      checkLocalPasscode(passcodeKey, code);\n    }\n\n    if (code.length === 1) {\n      setError(false);\n    }\n  }, [code]);\n\n  function addNumber(numberString) {\n    Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Light);\n\n    if (code.length < 4) {\n      if (code === '0') {\n        var replaceZero = code.slice(0, -1);\n        var newAmount = replaceZero.concat(numberString);\n        setCode(newAmount);\n      } else {\n        var _newAmount = code.concat(numberString);\n\n        setCode(_newAmount);\n      }\n    }\n  }\n\n  function removeNumber() {\n    Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Light);\n\n    if (code.length === 1) {\n      setCode('');\n    } else {\n      var newAmount = code.slice(0, -1);\n      setCode(newAmount);\n    }\n  }\n\n  return React.createElement(Background, {\n    blackBackground: true\n  }, React.createElement(Image, {\n    source: require(\"../assets/images/logo_passcode.png\"),\n    style: {\n      width: 120,\n      height: 124,\n      alignSelf: 'center',\n      marginTop: 64\n    }\n  }), React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      width: 160,\n      justifyContent: 'space-between',\n      alignSelf: 'center'\n    }\n  }, React.createElement(View, {\n    style: code.length >= 1 ? styles.filled : styles.outlined\n  }), React.createElement(View, {\n    style: code.length >= 2 ? styles.filled : styles.outlined\n  }), React.createElement(View, {\n    style: code.length >= 3 ? styles.filled : styles.outlined\n  }), React.createElement(View, {\n    style: code.length >= 4 ? styles.filled : styles.outlined\n  })), error ? React.createElement(Text, {\n    style: _objectSpread(_objectSpread({}, Nunito_Sans.Body_M_Regular), {}, {\n      color: 'white',\n      opacity: 0.75,\n      alignSelf: 'center'\n    })\n  }, \"Incorrect passcode, try again.\") : null, React.createElement(View, {\n    style: {\n      marginBottom: 40\n    }\n  }, React.createElement(View, {\n    style: styles.numRow\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return addNumber('1');\n    },\n    style: styles.numberContainer\n  }, React.createElement(Text, {\n    style: styles.mediumNumber\n  }, \"1\")), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return addNumber('2');\n    },\n    style: styles.numberContainer\n  }, React.createElement(Text, {\n    style: styles.mediumNumber\n  }, \"2\")), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return addNumber('3');\n    },\n    style: styles.numberContainer\n  }, React.createElement(Text, {\n    style: styles.mediumNumber\n  }, \"3\"))), React.createElement(View, {\n    style: styles.numRow\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return addNumber('4');\n    },\n    style: styles.numberContainer\n  }, React.createElement(Text, {\n    style: styles.mediumNumber\n  }, \"4\")), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return addNumber('5');\n    },\n    style: styles.numberContainer\n  }, React.createElement(Text, {\n    style: styles.mediumNumber\n  }, \"5\")), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return addNumber('6');\n    },\n    style: styles.numberContainer\n  }, React.createElement(Text, {\n    style: styles.mediumNumber\n  }, \"6\"))), React.createElement(View, {\n    style: styles.numRow\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return addNumber('7');\n    },\n    style: styles.numberContainer\n  }, React.createElement(Text, {\n    style: styles.mediumNumber\n  }, \"7\")), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return addNumber('8');\n    },\n    style: styles.numberContainer\n  }, React.createElement(Text, {\n    style: styles.mediumNumber\n  }, \"8\")), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return addNumber('9');\n    },\n    style: styles.numberContainer\n  }, React.createElement(Text, {\n    style: styles.mediumNumber\n  }, \"9\"))), React.createElement(View, {\n    style: _objectSpread(_objectSpread({}, styles.numRow), {}, {\n      marginBottom: 0\n    })\n  }, React.createElement(View, {\n    style: styles.numberContainer\n  }, React.createElement(Text, {\n    style: styles.mediumNumber\n  })), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return addNumber('0');\n    },\n    style: styles.numberContainer\n  }, React.createElement(Text, {\n    style: styles.mediumNumber\n  }, \"0\")), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return removeNumber();\n    },\n    style: styles.numberContainer\n  }, React.createElement(Image, {\n    source: require(\"../assets/icons/arrow-left-big-green.png\"),\n    style: {\n      width: 40,\n      height: 40\n    }\n  })))));\n};\n\nvar styles = StyleSheet.create({\n  tableLabel: {\n    fontSize: 14,\n    color: '#727D8D'\n  },\n  outlined: {\n    width: 16,\n    height: 16,\n    borderRadius: 1000,\n    borderWidth: 1,\n    borderColor: colors.accent\n  },\n  filled: {\n    width: 16,\n    height: 16,\n    borderRadius: 1000,\n    backgroundColor: colors.accent\n  },\n  tableData: {\n    fontSize: 17,\n    color: colors.primary\n  },\n  bigNumber: {\n    fontSize: 84,\n    fontFamily: 'NunitoSans_Regular',\n    color: colors.black_two\n  },\n  mediumNumber: {\n    fontSize: 48,\n    fontFamily: 'NunitoSans_Regular',\n    color: colors.accent\n  },\n  numberContainer: {\n    width: 56,\n    height: 66,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  toFrom: _objectSpread(_objectSpread({}, Nunito_Sans.Caption_M_Regular), {}, {\n    color: colors.black_five,\n    marginBottom: 4\n  }),\n  swapTokens: _objectSpread(_objectSpread({}, Nunito_Sans.Body_M_Regular), {}, {\n    color: colors.black_two\n  }),\n  swapContainer: {\n    borderColor: colors.border,\n    borderWidth: 1,\n    borderRadius: 18,\n    width: 40,\n    height: 40,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  numRow: {\n    flexDirection: 'row',\n    alignSelf: 'stretch',\n    justifyContent: 'space-between',\n    marginHorizontal: 16,\n    marginBottom: 16\n  }\n});\nexport default memo(PassCodeScreen);","map":{"version":3,"sources":["/workspace/stream-pay/screens/PasscodeScreen.tsx"],"names":["React","memo","useState","useEffect","Background","theme","colors","Nunito_Sans","fonts","useStoreState","useStoreActions","SecureStore","Haptics","TokenListProvider","Connection","PassCodeScreen","navigation","route","code","setCode","updatePasscode","actions","passcode","state","error","setError","tokenMap","setTokenMap","setAllTokens","tokenPairs","setTokenPairs","setWeb3Connection","web3Connection","checkLocalPasscode","passcodeKey","getItemAsync","result","mnemonic","notificationAsync","NotificationFeedbackType","Success","navigate","Error","getTokenPairs","fetch","then","res","json","removedPools","data","filter","value","some","el","includes","symbolsArray","i","length","splitArray","split","push","dedupedSymbols","Set","cleanArray","finishedArray","pairs","str","indexOf","pairsArray","el2","removeSymbol","replace","removeSlash","side","slice","newPair","pair","symbol","finishedObject","catch","err","console","log","setupWeb3","url","connection","resolve","tokens","tokenList","filterByClusterSlug","getList","reduce","map","item","set","address","Map","addNumber","numberString","impactAsync","ImpactFeedbackStyle","Light","replaceZero","newAmount","concat","removeNumber","require","width","height","alignSelf","marginTop","flexDirection","justifyContent","styles","filled","outlined","Body_M_Regular","color","opacity","marginBottom","numRow","numberContainer","mediumNumber","StyleSheet","create","tableLabel","fontSize","borderRadius","borderWidth","borderColor","accent","backgroundColor","tableData","primary","bigNumber","fontFamily","black_two","alignItems","toFrom","Caption_M_Regular","black_five","swapTokens","swapContainer","border","marginHorizontal"],"mappings":"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","sourcesContent":["import React, { memo, useState, useEffect } from 'react';\nimport { Text } from 'react-native';\nimport { Background, SubPageHeader } from '../components';\nimport { Navigation } from '../types';\nimport {\n\tView,\n\tImage,\n\tStyleSheet,\n\tTouchableOpacity,\n\tDevSettings,\n} from 'react-native';\nimport { theme } from '../core/theme';\nconst {\n\tcolors,\n\tfonts: { Nunito_Sans },\n} = theme;\nimport { useStoreState, useStoreActions } from '../hooks/storeHooks';\nimport * as SecureStore from 'expo-secure-store';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport * as Haptics from 'expo-haptics';\nimport { TokenListProvider, TokenInfo } from '@solana/spl-token-registry';\nimport * as Serum from '@project-serum/anchor';\nimport { Jupiter, TOKEN_LIST_URL } from '@jup-ag/core';\nimport { Wallet } from '@project-serum/anchor';\nimport {\n\tAccount,\n\tConnection,\n\tPublicKey,\n\tKeypair,\n\tTransaction,\n\tTransactionSignature,\n} from '@solana/web3.js';\nimport * as walletAdapter from '@solana/wallet-adapter-base';\nimport { accountFromSeed, mnemonicToSeed } from '../utils/index';\n\ntype Props = {\n\tnavigation: Navigation;\n\troute: Object;\n};\n\nconst PassCodeScreen = ({ navigation, route }: Props) => {\n\tconst [code, setCode] = useState('');\n\tconst updatePasscode = useStoreActions((actions) => actions.updatePasscode);\n\tconst passcode = useStoreState((state) => state.passcode);\n\tconst [error, setError] = useState(false);\n\tconst tokenMap = useStoreState((state) => state.tokenMap);\n\tconst setTokenMap = useStoreActions((actions) => actions.setTokenMap);\n\tconst setAllTokens = useStoreActions((actions) => actions.setAllTokens);\n\tconst tokenPairs = useStoreState((state) => state.tokenPairs);\n\tconst setTokenPairs = useStoreActions((actions) => actions.setTokenPairs);\n\tconst setWeb3Connection = useStoreActions(\n\t\t(actions) => actions.web3Connection,\n\t);\n\n\tasync function checkLocalPasscode(passcodeKey: string, code: string) {\n\t\tlet result = await SecureStore.getItemAsync(passcodeKey);\n\t\tif (result === code) {\n\t\t\tupdatePasscode(code);\n\t\t\tconst mnemonic = await SecureStore.getItemAsync(code);\n\t\t\tif (mnemonic) {\n\t\t\t\tHaptics.notificationAsync(\n\t\t\t\t\tHaptics.NotificationFeedbackType.Success,\n\t\t\t\t);\n\t\t\t\tnavigation.navigate('Main');\n\t\t\t} else {\n\t\t\t\tnavigation.navigate('Onboarding');\n\t\t\t}\n\t\t} else {\n\t\t\tHaptics.notificationAsync(Haptics.NotificationFeedbackType.Error);\n\t\t\tsetError(true);\n\t\t\tsetCode('');\n\t\t}\n\t}\n\n\t// async function logout() {\n\t// \tconsole.warn('hit');\n\t// \tconst passcodeKey = passcode + 'key';\n\t// \tawait SecureStore.deleteItemAsync(passcodeKey);\n\t// \tconsole.warn('hit1');\n\t// \tawait SecureStore.deleteItemAsync(passcode);\n\t// \tconsole.warn('hit2');\n\t// \tawait AsyncStorage.removeItem('hasAccount');\n\t// \tconsole.warn('hit3');\n\t// \tDevSettings.reload();\n\t// }\n\n\t// const getJupRoutes = async () => {\n\t// \tconsole.log('hello');\n\t// \tconst connection = new Connection(\n\t// \t\t'https://solana--mainnet.datahub.figment.io/apikey/5d2d7ea54a347197ccc56fd24ecc2ac5',\n\t// \t);\n\n\t// \tconst tokens = await (\n\t// \t\tawait fetch(TOKEN_LIST_URL['mainnet-beta'])\n\t// \t).json();\n\t// \tconsole.log(tokens[0].logoURI);\n\t// \tconsole.log(tokens[10].logoURI);\n\t// \tconsole.log(tokens[40].logoURI);\n\t// \tconsole.log(tokens[200].logoURI);\n\t// \tconsole.log(tokens[300].logoURI);\n\t// \tconsole.log(tokens[400].logoURI);\n\t// \tconsole.log(tokens[500].logoURI);\n\t// \tconsole.log(tokens[1000].logoURI);\n\t// \tsetAllTokens(tokens);\n\t// };\n\n\t// useEffect(() => {\n\t// \tgetJupRoutes();\n\t// }, [tokenMap]);\n\n\tfunction getTokenPairs() {\n\t\t//get a clean list of all symbols in bonfida (remove all the perps ones), dedupe them, then grab their symbols, then grab their pairs, then list if it's buy side or sell side for each one\n\n\t\t//then make two big calls to coinmarketcap - one for data, the other for price\n\t\t//then combine all of those results based on symbol name 🎉\n\t\treturn fetch('https://serum-api.bonfida.com/pairs')\n\t\t\t.then((res) => res.json())\n\t\t\t.then((res) => {\n\t\t\t\tconst removedPools = res.data.filter(\n\t\t\t\t\t(value) =>\n\t\t\t\t\t\t![\n\t\t\t\t\t\t\t'-',\n\t\t\t\t\t\t\t'LQID',\n\t\t\t\t\t\t\t'ODOP',\n\t\t\t\t\t\t\t'xCOPE',\n\t\t\t\t\t\t\t'CCAI',\n\t\t\t\t\t\t\t'PLEB',\n\t\t\t\t\t\t\t'BVOL',\n\t\t\t\t\t\t\t'POOL',\n\t\t\t\t\t\t\t'BTC/SRM',\n\t\t\t\t\t\t\t'FTT/SRM',\n\t\t\t\t\t\t\t'YFI/SRM',\n\t\t\t\t\t\t\t'SUSHI/SRM',\n\t\t\t\t\t\t\t'ETH/SRM',\n\t\t\t\t\t\t\t'RAY/SRM',\n\t\t\t\t\t\t\t'RAY/ETH',\n\t\t\t\t\t\t\t'MSRM',\n\t\t\t\t\t\t].some((el) => value.includes(el)),\n\t\t\t\t);\n\n\t\t\t\t//split the pairs into separate symbols\n\t\t\t\tconst symbolsArray = [];\n\t\t\t\tfor (let i = 0; i < removedPools.length; i++) {\n\t\t\t\t\tconst el = removedPools[i];\n\t\t\t\t\tconst splitArray = el.split('/');\n\t\t\t\t\tsymbolsArray.push(...splitArray);\n\t\t\t\t}\n\n\t\t\t\t//dedupe symbols\n\t\t\t\tconst dedupedSymbols = [...new Set(symbolsArray)];\n\n\t\t\t\t//remove random hashes\n\t\t\t\tconst cleanArray = [];\n\t\t\t\tfor (let i = 0; i < dedupedSymbols.length; i++) {\n\t\t\t\t\tconst el = dedupedSymbols[i];\n\t\t\t\t\tif (el.length < 15) {\n\t\t\t\t\t\tcleanArray.push(el);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst finishedArray = [];\n\t\t\t\tfor (let i = 0; i < cleanArray.length; i++) {\n\t\t\t\t\tconst el = cleanArray[i];\n\n\t\t\t\t\t//find matching pairs\n\t\t\t\t\tconst pairs = removedPools.filter(\n\t\t\t\t\t\t(str: string) => str.indexOf(el) >= 0,\n\t\t\t\t\t);\n\t\t\t\t\tconst pairsArray = [];\n\t\t\t\t\tfor (let i = 0; i < pairs.length; i++) {\n\t\t\t\t\t\tconst el2 = pairs[i];\n\n\t\t\t\t\t\t//take away the name and slash\n\t\t\t\t\t\tconst removeSymbol = el2.replace(el, '');\n\t\t\t\t\t\tconst removeSlash = removeSymbol.replace('/', '');\n\n\t\t\t\t\t\t//deduce whether sell or buy side\n\t\t\t\t\t\tlet side;\n\t\t\t\t\t\tremoveSlash === el2.slice(0, removeSlash.length)\n\t\t\t\t\t\t\t? (side = 'buy')\n\t\t\t\t\t\t\t: (side = 'sell');\n\n\t\t\t\t\t\t//construct array object\n\t\t\t\t\t\tconst newPair = {\n\t\t\t\t\t\t\tpair: el2,\n\t\t\t\t\t\t\tsymbol: removeSlash,\n\t\t\t\t\t\t\tside: side,\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tpairsArray.push(newPair);\n\t\t\t\t\t}\n\n\t\t\t\t\tconst finishedObject = {\n\t\t\t\t\t\tsymbol: el,\n\t\t\t\t\t\tpairs: pairsArray,\n\t\t\t\t\t};\n\n\t\t\t\t\tfinishedArray.push(finishedObject);\n\t\t\t\t}\n\t\t\t\tsetTokenPairs(finishedArray);\n\t\t\t})\n\t\t\t.catch((err) => console.log(err));\n\t}\n\n\tasync function setupWeb3() {\n\t\tconst url =\n\t\t\t'https://solana--mainnet.datahub.figment.io/apikey/5d2d7ea54a347197ccc56fd24ecc2ac5';\n\t\tconst connection = new Connection(url);\n\t\tsetWeb3Connection(connection);\n\t}\n\n\tuseEffect(() => {\n\t\tgetTokenPairs();\n\t\tnew TokenListProvider().resolve().then((tokens) => {\n\t\t\tconst tokenList = tokens\n\t\t\t\t.filterByClusterSlug('mainnet-beta')\n\t\t\t\t.getList();\n\n\t\t\tsetTokenMap(\n\t\t\t\ttokenList?.reduce((map, item) => {\n\t\t\t\t\tmap.set(item.address, item);\n\t\t\t\t\treturn map;\n\t\t\t\t}, new Map()),\n\t\t\t);\n\t\t});\n\t}, []);\n\n\tuseEffect(() => {\n\t\t// logout();\n\t\tif (code.length === 4) {\n\t\t\tconst passcodeKey = code + 'key';\n\t\t\tcheckLocalPasscode(passcodeKey, code);\n\t\t}\n\t\tif (code.length === 1) {\n\t\t\tsetError(false);\n\t\t}\n\t}, [code]);\n\n\tfunction addNumber(numberString: string) {\n\t\tHaptics.impactAsync(Haptics.ImpactFeedbackStyle.Light);\n\t\tif (code.length < 4) {\n\t\t\tif (code === '0') {\n\t\t\t\tconst replaceZero = code.slice(0, -1);\n\t\t\t\tconst newAmount = replaceZero.concat(numberString);\n\t\t\t\tsetCode(newAmount);\n\t\t\t} else {\n\t\t\t\tconst newAmount = code.concat(numberString);\n\t\t\t\tsetCode(newAmount);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction removeNumber() {\n\t\tHaptics.impactAsync(Haptics.ImpactFeedbackStyle.Light);\n\t\tif (code.length === 1) {\n\t\t\tsetCode('');\n\t\t} else {\n\t\t\tconst newAmount = code.slice(0, -1);\n\t\t\tsetCode(newAmount);\n\t\t}\n\t}\n\n\treturn (\n\t\t<Background blackBackground={true}>\n\t\t\t\t<Image\n\t\t\t\t\tsource={require('../assets/images/logo_passcode.png')}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: 120,\n\t\t\t\t\t\theight: 124,\n\t\t\t\t\t\talignSelf: 'center',\n\t\t\t\t\t\tmarginTop: 64,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\n\t\t\t\t<View\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tflexDirection: 'row',\n\t\t\t\t\t\twidth: 160,\n\t\t\t\t\t\tjustifyContent: 'space-between',\n\t\t\t\t\t\talignSelf: 'center',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<View\n\t\t\t\t\t\tstyle={code.length >= 1 ? styles.filled : styles.outlined}\n\t\t\t\t\t/>\n\t\t\t\t\t<View\n\t\t\t\t\t\tstyle={code.length >= 2 ? styles.filled : styles.outlined}\n\t\t\t\t\t/>\n\t\t\t\t\t<View\n\t\t\t\t\t\tstyle={code.length >= 3 ? styles.filled : styles.outlined}\n\t\t\t\t\t/>\n\t\t\t\t\t<View\n\t\t\t\t\t\tstyle={code.length >= 4 ? styles.filled : styles.outlined}\n\t\t\t\t\t/>\n\t\t\t\t</View>\n\t\t\t\t{error ? (\n\t\t\t\t\t<Text\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t...Nunito_Sans.Body_M_Regular,\n\t\t\t\t\t\t\tcolor: 'white',\n\t\t\t\t\t\t\topacity: 0.75,\n\t\t\t\t\t\t\talignSelf: 'center',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\tIncorrect passcode, try again.\n\t\t\t\t\t</Text>\n\t\t\t\t) : null}\n\n\t\t\t\t<View style={{ marginBottom: 40 }}>\n\t\t\t\t\t<View style={styles.numRow}>\n\t\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\t\tonPress={() => addNumber('1')}\n\t\t\t\t\t\t\tstyle={styles.numberContainer}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Text style={styles.mediumNumber}>1</Text>\n\t\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\t\tonPress={() => addNumber('2')}\n\t\t\t\t\t\t\tstyle={styles.numberContainer}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Text style={styles.mediumNumber}>2</Text>\n\t\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\t\tonPress={() => addNumber('3')}\n\t\t\t\t\t\t\tstyle={styles.numberContainer}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Text style={styles.mediumNumber}>3</Text>\n\t\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t</View>\n\t\t\t\t\t<View style={styles.numRow}>\n\t\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\t\tonPress={() => addNumber('4')}\n\t\t\t\t\t\t\tstyle={styles.numberContainer}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Text style={styles.mediumNumber}>4</Text>\n\t\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\t\tonPress={() => addNumber('5')}\n\t\t\t\t\t\t\tstyle={styles.numberContainer}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Text style={styles.mediumNumber}>5</Text>\n\t\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\t\tonPress={() => addNumber('6')}\n\t\t\t\t\t\t\tstyle={styles.numberContainer}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Text style={styles.mediumNumber}>6</Text>\n\t\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t</View>\n\t\t\t\t\t<View style={styles.numRow}>\n\t\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\t\tonPress={() => addNumber('7')}\n\t\t\t\t\t\t\tstyle={styles.numberContainer}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Text style={styles.mediumNumber}>7</Text>\n\t\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\t\tonPress={() => addNumber('8')}\n\t\t\t\t\t\t\tstyle={styles.numberContainer}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Text style={styles.mediumNumber}>8</Text>\n\t\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\t\tonPress={() => addNumber('9')}\n\t\t\t\t\t\t\tstyle={styles.numberContainer}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Text style={styles.mediumNumber}>9</Text>\n\t\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t</View>\n\t\t\t\t\t<View style={{ ...styles.numRow, marginBottom: 0 }}>\n\t\t\t\t\t\t<View style={styles.numberContainer}>\n\t\t\t\t\t\t\t<Text style={styles.mediumNumber}></Text>\n\t\t\t\t\t\t</View>\n\t\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\t\tonPress={() => addNumber('0')}\n\t\t\t\t\t\t\tstyle={styles.numberContainer}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Text style={styles.mediumNumber}>0</Text>\n\t\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t\t<TouchableOpacity\n\t\t\t\t\t\t\tonPress={() => removeNumber()}\n\t\t\t\t\t\t\tstyle={styles.numberContainer}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{/* <Text style={styles.mediumNumber}>3</Text> */}\n\t\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\t\tsource={require('../assets/icons/arrow-left-big-green.png')}\n\t\t\t\t\t\t\t\tstyle={{ width: 40, height: 40 }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TouchableOpacity>\n\t\t\t\t\t</View>\n\t\t\t\t</View>\t\n\t\t</Background>\n\t);\n};\n\nconst styles = StyleSheet.create({\n\ttableLabel: {\n\t\tfontSize: 14,\n\t\tcolor: '#727D8D',\n\t},\n\toutlined: {\n\t\twidth: 16,\n\t\theight: 16,\n\t\tborderRadius: 1000,\n\t\tborderWidth: 1,\n\t\tborderColor: colors.accent,\n\t},\n\tfilled: {\n\t\twidth: 16,\n\t\theight: 16,\n\t\tborderRadius: 1000,\n\t\t// borderWidth: 1,\n\t\tbackgroundColor: colors.accent,\n\t},\n\ttableData: {\n\t\tfontSize: 17,\n\t\tcolor: colors.primary,\n\t},\n\tbigNumber: {\n\t\tfontSize: 84,\n\t\tfontFamily: 'NunitoSans_Regular',\n\t\t// fontWeight: '400',\n\t\tcolor: colors.black_two,\n\t},\n\tmediumNumber: {\n\t\tfontSize: 48,\n\t\tfontFamily: 'NunitoSans_Regular',\n\t\t// fontWeight: '400',\n\t\tcolor: colors.accent,\n\t},\n\tnumberContainer: {\n\t\twidth: 56,\n\t\theight: 66,\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t},\n\ttoFrom: {\n\t\t...Nunito_Sans.Caption_M_Regular,\n\t\tcolor: colors.black_five,\n\t\tmarginBottom: 4,\n\t},\n\tswapTokens: {\n\t\t...Nunito_Sans.Body_M_Regular,\n\t\tcolor: colors.black_two,\n\t},\n\tswapContainer: {\n\t\tborderColor: colors.border,\n\t\tborderWidth: 1,\n\t\tborderRadius: 18,\n\t\twidth: 40,\n\t\theight: 40,\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t},\n\tnumRow: {\n\t\tflexDirection: 'row',\n\t\talignSelf: 'stretch',\n\t\tjustifyContent: 'space-between',\n\t\tmarginHorizontal: 16,\n\t\tmarginBottom: 16,\n\t},\n});\n\nexport default memo(PassCodeScreen);\n"]},"metadata":{},"sourceType":"module"}