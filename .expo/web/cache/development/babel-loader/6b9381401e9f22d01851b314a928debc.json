{"ast":null,"code":"export var parseAngle = function () {\n  var _f = function _f(angle) {\n    if (angle.endsWith(\"deg\")) {\n      return parseFloat(angle) * (Math.PI / 180);\n    }\n\n    return parseFloat(angle);\n  };\n\n  _f._closure = {};\n  _f.asString = \"function parseAngle(angle){if(angle.endsWith(\\\"deg\\\")){return parseFloat(angle)*(Math.PI/180);}return parseFloat(angle);}\";\n  _f.__workletHash = 7112352718515;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:22)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\nexport var isTranslateX = function () {\n  var _f = function _f(transform) {\n    return Object.keys(transform).indexOf(\"translateX\") !== -1;\n  };\n\n  _f._closure = {};\n  _f.asString = \"function isTranslateX(transform){return Object.keys(transform).indexOf(\\\"translateX\\\")!==-1;}\";\n  _f.__workletHash = 16794504467090;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:176)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\nexport var isTranslateY = function () {\n  var _f = function _f(transform) {\n    return Object.keys(transform).indexOf(\"translateY\") !== -1;\n  };\n\n  _f._closure = {};\n  _f.asString = \"function isTranslateY(transform){return Object.keys(transform).indexOf(\\\"translateY\\\")!==-1;}\";\n  _f.__workletHash = 11849967471410;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:302)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\nexport var isScale = function () {\n  var _f = function _f(transform) {\n    return Object.keys(transform).indexOf(\"scale\") !== -1;\n  };\n\n  _f._closure = {};\n  _f.asString = \"function isScale(transform){return Object.keys(transform).indexOf(\\\"scale\\\")!==-1;}\";\n  _f.__workletHash = 15859333258482;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:423)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\nexport var isScaleX = function () {\n  var _f = function _f(transform) {\n    return Object.keys(transform).indexOf(\"scaleX\") !== -1;\n  };\n\n  _f._closure = {};\n  _f.asString = \"function isScaleX(transform){return Object.keys(transform).indexOf(\\\"scaleX\\\")!==-1;}\";\n  _f.__workletHash = 6656802914642;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:535)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\nexport var isScaleY = function () {\n  var _f = function _f(transform) {\n    return Object.keys(transform).indexOf(\"scaleY\") !== -1;\n  };\n\n  _f._closure = {};\n  _f.asString = \"function isScaleY(transform){return Object.keys(transform).indexOf(\\\"scaleY\\\")!==-1;}\";\n  _f.__workletHash = 17008344455858;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:649)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\nexport var isSkewX = function () {\n  var _f = function _f(transform) {\n    return Object.keys(transform).indexOf(\"skewX\") !== -1;\n  };\n\n  _f._closure = {};\n  _f.asString = \"function isSkewX(transform){return Object.keys(transform).indexOf(\\\"skewX\\\")!==-1;}\";\n  _f.__workletHash = 6844915902450;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:762)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\nexport var isSkewY = function () {\n  var _f = function _f(transform) {\n    return Object.keys(transform).indexOf(\"skewY\") !== -1;\n  };\n\n  _f._closure = {};\n  _f.asString = \"function isSkewY(transform){return Object.keys(transform).indexOf(\\\"skewY\\\")!==-1;}\";\n  _f.__workletHash = 11002668751986;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:873)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\nexport var isRotate = function () {\n  var _f = function _f(transform) {\n    return Object.keys(transform).indexOf(\"rotate\") !== -1;\n  };\n\n  _f._closure = {};\n  _f.asString = \"function isRotate(transform){return Object.keys(transform).indexOf(\\\"rotate\\\")!==-1;}\";\n  _f.__workletHash = 14755840867058;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:985)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\nexport var isRotateZ = function () {\n  var _f = function _f(transform) {\n    return Object.keys(transform).indexOf(\"rotateZ\") !== -1;\n  };\n\n  _f._closure = {};\n  _f.asString = \"function isRotateZ(transform){return Object.keys(transform).indexOf(\\\"rotateZ\\\")!==-1;}\";\n  _f.__workletHash = 2590802818802;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:1100)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\n\nvar exhaustiveCheck = function () {\n  var _f = function _f(a) {\n    throw new Error(\"Unexhaustive handling for \" + a);\n  };\n\n  _f._closure = {};\n  _f.asString = \"function exhaustiveCheck(a){throw new Error(\\\"Unexhaustive handling for \\\"+a);}\";\n  _f.__workletHash = 15298151593896;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:1216)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\n\nvar identityMatrix = [[1, 0, 0], [0, 1, 0], [0, 0, 1]];\n\nvar translateXMatrix = function () {\n  var _f = function _f(x) {\n    return [[1, 0, x], [0, 1, 0], [0, 0, 1]];\n  };\n\n  _f._closure = {};\n  _f.asString = \"function translateXMatrix(x){return[[1,0,x],[0,1,0],[0,0,1]];}\";\n  _f.__workletHash = 17400578140087;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:1370)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\n\nvar translateYMatrix = function () {\n  var _f = function _f(y) {\n    return [[1, 0, 0], [0, 1, y], [0, 0, 1]];\n  };\n\n  _f._closure = {};\n  _f.asString = \"function translateYMatrix(y){return[[1,0,0],[0,1,y],[0,0,1]];}\";\n  _f.__workletHash = 7111432453526;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:1464)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\n\nvar scaleMatrix = function () {\n  var _f = function _f(s) {\n    return [[s, 0, 0], [0, s, 0], [0, 0, 1]];\n  };\n\n  _f._closure = {};\n  _f.asString = \"function scaleMatrix(s){return[[s,0,0],[0,s,0],[0,0,1]];}\";\n  _f.__workletHash = 7200757641938;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:1553)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\n\nvar scaleXMatrix = function () {\n  var _f = function _f(s) {\n    return [[s, 0, 0], [0, 1, 0], [0, 0, 1]];\n  };\n\n  _f._closure = {};\n  _f.asString = \"function scaleXMatrix(s){return[[s,0,0],[0,1,0],[0,0,1]];}\";\n  _f.__workletHash = 4550479822216;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:1638)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\n\nvar scaleYMatrix = function () {\n  var _f = function _f(s) {\n    return [[1, 0, 0], [0, s, 0], [0, 0, 1]];\n  };\n\n  _f._closure = {};\n  _f.asString = \"function scaleYMatrix(s){return[[1,0,0],[0,s,0],[0,0,1]];}\";\n  _f.__workletHash = 5557007096329;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:1724)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\n\nvar skewXMatrix = function () {\n  var _f = function _f(s) {\n    return [[1, Math.tan(s), 0], [0, 1, 0], [0, 0, 1]];\n  };\n\n  _f._closure = {};\n  _f.asString = \"function skewXMatrix(s){return[[1,Math.tan(s),0],[0,1,0],[0,0,1]];}\";\n  _f.__workletHash = 17179712146175;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:1809)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\n\nvar skewYMatrix = function () {\n  var _f = function _f(s) {\n    return [[1, 0, 0], [Math.tan(s), 1, 0], [0, 0, 1]];\n  };\n\n  _f._closure = {};\n  _f.asString = \"function skewYMatrix(s){return[[1,0,0],[Math.tan(s),1,0],[0,0,1]];}\";\n  _f.__workletHash = 2812063737566;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:1903)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\n\nvar rotateZMatrix = function () {\n  var _f = function _f(r) {\n    return [[Math.cos(r), -1 * Math.sin(r), 0], [Math.sin(r), Math.cos(r), 0], [0, 0, 1]];\n  };\n\n  _f._closure = {};\n  _f.asString = \"function rotateZMatrix(r){return[[Math.cos(r),-1*Math.sin(r),0],[Math.sin(r),Math.cos(r),0],[0,0,1]];}\";\n  _f.__workletHash = 7439261267518;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:1999)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\n\nexport var dot3 = function () {\n  var _f = function _f(row, col) {\n    return row[0] * col[0] + row[1] * col[1] + row[2] * col[2];\n  };\n\n  _f._closure = {};\n  _f.asString = \"function dot3(row,col){return row[0]*col[0]+row[1]*col[1]+row[2]*col[2];}\";\n  _f.__workletHash = 7164972296569;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:2128)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\nexport var matrixVecMul3 = function () {\n  var _f = function _f(m, v) {\n    return [dot3(m[0], v), dot3(m[1], v), dot3(m[2], v)];\n  };\n\n  _f._closure = {\n    dot3: dot3\n  };\n  _f.asString = \"function matrixVecMul3(m,v){const{dot3}=jsThis._closure;{return[dot3(m[0],v),dot3(m[1],v),dot3(m[2],v)];}}\";\n  _f.__workletHash = 3300734455537;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:2237)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\nexport var multiply3 = function () {\n  var _f = function _f(m1, m2) {\n    var col0 = [m2[0][0], m2[1][0], m2[2][0]];\n    var col1 = [m2[0][1], m2[1][1], m2[2][1]];\n    var col2 = [m2[0][2], m2[1][2], m2[2][2]];\n    return [[dot3(m1[0], col0), dot3(m1[0], col1), dot3(m1[0], col2)], [dot3(m1[1], col0), dot3(m1[1], col1), dot3(m1[1], col2)], [dot3(m1[2], col0), dot3(m1[2], col1), dot3(m1[2], col2)]];\n  };\n\n  _f._closure = {\n    dot3: dot3\n  };\n  _f.asString = \"function multiply3(m1,m2){const{dot3}=jsThis._closure;{var col0=[m2[0][0],m2[1][0],m2[2][0]];var col1=[m2[0][1],m2[1][1],m2[2][1]];var col2=[m2[0][2],m2[1][2],m2[2][2]];return[[dot3(m1[0],col0),dot3(m1[0],col1),dot3(m1[0],col2)],[dot3(m1[1],col0),dot3(m1[1],col1),dot3(m1[1],col2)],[dot3(m1[2],col0),dot3(m1[2],col1),dot3(m1[2],col2)]];}}\";\n  _f.__workletHash = 3325142271425;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:2345)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\n\nvar serializeToSVGMatrix = function () {\n  var _f = function _f(m) {\n    return \"matrix(\" + m[0][0] + \", \" + m[1][0] + \", \" + m[0][1] + \", \" + m[1][1] + \", \" + m[0][2] + \", \" + m[1][2] + \")\";\n  };\n\n  _f._closure = {};\n  _f.asString = \"function serializeToSVGMatrix(m){return\\\"matrix(\\\"+m[0][0]+\\\", \\\"+m[1][0]+\\\", \\\"+m[0][1]+\\\", \\\"+m[1][1]+\\\", \\\"+m[0][2]+\\\", \\\"+m[1][2]+\\\")\\\";}\";\n  _f.__workletHash = 9492201660893;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:2689)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\n\nexport var svgMatrix = function () {\n  var _f = function _f(transforms) {\n    return serializeToSVGMatrix(processTransform2d(transforms));\n  };\n\n  _f._closure = {\n    serializeToSVGMatrix: serializeToSVGMatrix,\n    processTransform2d: processTransform2d\n  };\n  _f.asString = \"function svgMatrix(transforms){const{serializeToSVGMatrix,processTransform2d}=jsThis._closure;{return serializeToSVGMatrix(processTransform2d(transforms));}}\";\n  _f.__workletHash = 10289811588442;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:2848)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\nexport var processTransform2d = function () {\n  var _f = function _f(transforms) {\n    return transforms.reduce(function (acc, transform) {\n      if (isTranslateX(transform)) {\n        return multiply3(acc, translateXMatrix(transform.translateX));\n      }\n\n      if (isTranslateY(transform)) {\n        return multiply3(acc, translateYMatrix(transform.translateY));\n      }\n\n      if (isScale(transform)) {\n        return multiply3(acc, scaleMatrix(transform.scale));\n      }\n\n      if (isScaleX(transform)) {\n        return multiply3(acc, scaleXMatrix(transform.scaleX));\n      }\n\n      if (isScaleY(transform)) {\n        return multiply3(acc, scaleYMatrix(transform.scaleY));\n      }\n\n      if (isSkewX(transform)) {\n        return multiply3(acc, skewXMatrix(parseAngle(transform.skewX)));\n      }\n\n      if (isSkewY(transform)) {\n        return multiply3(acc, skewYMatrix(parseAngle(transform.skewY)));\n      }\n\n      if (isRotate(transform)) {\n        return multiply3(acc, rotateZMatrix(parseAngle(transform.rotate)));\n      }\n\n      if (isRotateZ(transform)) {\n        return multiply3(acc, rotateZMatrix(parseAngle(transform.rotateZ)));\n      }\n\n      return exhaustiveCheck(transform);\n    }, identityMatrix);\n  };\n\n  _f._closure = {\n    isTranslateX: isTranslateX,\n    multiply3: multiply3,\n    translateXMatrix: translateXMatrix,\n    isTranslateY: isTranslateY,\n    translateYMatrix: translateYMatrix,\n    isScale: isScale,\n    scaleMatrix: scaleMatrix,\n    isScaleX: isScaleX,\n    scaleXMatrix: scaleXMatrix,\n    isScaleY: isScaleY,\n    scaleYMatrix: scaleYMatrix,\n    isSkewX: isSkewX,\n    skewXMatrix: skewXMatrix,\n    parseAngle: parseAngle,\n    isSkewY: isSkewY,\n    skewYMatrix: skewYMatrix,\n    isRotate: isRotate,\n    rotateZMatrix: rotateZMatrix,\n    isRotateZ: isRotateZ,\n    exhaustiveCheck: exhaustiveCheck,\n    identityMatrix: identityMatrix\n  };\n  _f.asString = \"function processTransform2d(transforms){const{isTranslateX,multiply3,translateXMatrix,isTranslateY,translateYMatrix,isScale,scaleMatrix,isScaleX,scaleXMatrix,isScaleY,scaleYMatrix,isSkewX,skewXMatrix,parseAngle,isSkewY,skewYMatrix,isRotate,rotateZMatrix,isRotateZ,exhaustiveCheck,identityMatrix}=jsThis._closure;{return transforms.reduce(function(acc,transform){if(isTranslateX(transform)){return multiply3(acc,translateXMatrix(transform.translateX));}if(isTranslateY(transform)){return multiply3(acc,translateYMatrix(transform.translateY));}if(isScale(transform)){return multiply3(acc,scaleMatrix(transform.scale));}if(isScaleX(transform)){return multiply3(acc,scaleXMatrix(transform.scaleX));}if(isScaleY(transform)){return multiply3(acc,scaleYMatrix(transform.scaleY));}if(isSkewX(transform)){return multiply3(acc,skewXMatrix(parseAngle(transform.skewX)));}if(isSkewY(transform)){return multiply3(acc,skewYMatrix(parseAngle(transform.skewY)));}if(isRotate(transform)){return multiply3(acc,rotateZMatrix(parseAngle(transform.rotate)));}if(isRotateZ(transform)){return multiply3(acc,rotateZMatrix(parseAngle(transform.rotateZ)));}return exhaustiveCheck(transform);},identityMatrix);}}\";\n  _f.__workletHash = 7262177285329;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:2981)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\n\nvar isMatrix3 = function () {\n  var _f = function _f(arg) {\n    return arg.length === 3 && arg[0] instanceof Array;\n  };\n\n  _f._closure = {};\n  _f.asString = \"function isMatrix3(arg){return arg.length===3&&arg[0]instanceof Array;}\";\n  _f.__workletHash = 12093629111814;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:3917)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\n\nexport var decompose2d = function () {\n  var _f = function _f(arg) {\n    var m = isMatrix3(arg) ? arg : processTransform2d(arg);\n    var a = m[0][0];\n    var b = m[1][0];\n    var c = m[0][1];\n    var d = m[1][1];\n    var translateX = m[0][2];\n    var translateY = m[1][2];\n    var E = (a + d) / 2;\n    var F = (a - d) / 2;\n    var G = (c + b) / 2;\n    var H = (c - b) / 2;\n    var Q = Math.sqrt(Math.pow(E, 2) + Math.pow(H, 2));\n    var R = Math.sqrt(Math.pow(F, 2) + Math.pow(G, 2));\n    var scaleX = Q + R;\n    var scaleY = Q - R;\n    var a1 = Math.atan2(G, F);\n    var a2 = Math.atan2(H, E);\n    var theta = (a2 - a1) / 2;\n    var phi = (a2 + a1) / 2;\n    return [{\n      translateX: translateX\n    }, {\n      translateY: translateY\n    }, {\n      rotateZ: -1 * theta\n    }, {\n      scaleX: scaleX\n    }, {\n      scaleY: scaleY\n    }, {\n      rotateZ: -1 * phi\n    }];\n  };\n\n  _f._closure = {\n    isMatrix3: isMatrix3,\n    processTransform2d: processTransform2d\n  };\n  _f.asString = \"function decompose2d(arg){const{isMatrix3,processTransform2d}=jsThis._closure;{var m=isMatrix3(arg)?arg:processTransform2d(arg);var a=m[0][0];var b=m[1][0];var c=m[0][1];var d=m[1][1];var translateX=m[0][2];var translateY=m[1][2];var E=(a+d)/2;var F=(a-d)/2;var G=(c+b)/2;var H=(c-b)/2;var Q=Math.sqrt(Math.pow(E,2)+Math.pow(H,2));var R=Math.sqrt(Math.pow(F,2)+Math.pow(G,2));var scaleX=Q+R;var scaleY=Q-R;var a1=Math.atan2(G,F);var a2=Math.atan2(H,E);var theta=(a2-a1)/2;var phi=(a2+a1)/2;return[{translateX:translateX},{translateY:translateY},{rotateZ:-1*theta},{scaleX:scaleX},{scaleY:scaleY},{rotateZ:-1*phi}];}}\";\n  _f.__workletHash = 3303290849428;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:4022)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\n\nvar adjugate = function () {\n  var _f = function _f(m) {\n    return [[m[1][1] * m[2][2] - m[1][2] * [2][1], m[0][2] * [2][1] - m[0][1] * [2][2], m[0][1] * [1][2] - m[0][2] * [1][1]], [m[1][2] * [2][0] - m[1][0] * [2][2], m[0][0] * [2][2] - m[0][2] * [2][0], m[0][2] * [1][0] - m[0][0] * [1][2]], [m[1][0] * [2][1] - m[1][1] * [2][0], m[0][1] * [2][0] - m[0][0] * [2][1], m[0][0] * [1][1] - m[0][1] * [1][0]]];\n  };\n\n  _f._closure = {};\n  _f.asString = \"function adjugate(m){return[[m[1][1]*m[2][2]-m[1][2]*[2][1],m[0][2]*[2][1]-m[0][1]*[2][2],m[0][1]*[1][2]-m[0][2]*[1][1]],[m[1][2]*[2][0]-m[1][0]*[2][2],m[0][0]*[2][2]-m[0][2]*[2][0],m[0][2]*[1][0]-m[0][0]*[1][2]],[m[1][0]*[2][1]-m[1][1]*[2][0],m[0][1]*[2][0]-m[0][0]*[2][1],m[0][0]*[1][1]-m[0][1]*[1][0]]];}\";\n  _f.__workletHash = 9109331772211;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:4608)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\n\nvar basisToPoints = function () {\n  var _f = function _f(_ref) {\n    var p1 = _ref.p1,\n        p2 = _ref.p2,\n        p3 = _ref.p3,\n        p4 = _ref.p4;\n    var m = [[p1.x, p2.x, p3.x], [p1.y, p2.y, p3.y], [1, 1, 1]];\n    var v = matrixVecMul3(adjugate(m), [p4.x, p4.y, 1]);\n    return multiply3(m, [[v[0], 0, 0], [0, v[1], 0], [0, 0, v[2]]]);\n  };\n\n  _f._closure = {\n    matrixVecMul3: matrixVecMul3,\n    adjugate: adjugate,\n    multiply3: multiply3\n  };\n  _f.asString = \"function basisToPoints(_ref){const{matrixVecMul3,adjugate,multiply3}=jsThis._closure;{var p1=_ref.p1,p2=_ref.p2,p3=_ref.p3,p4=_ref.p4;var m=[[p1.x,p2.x,p3.x],[p1.y,p2.y,p3.y],[1,1,1]];var v=matrixVecMul3(adjugate(m),[p4.x,p4.y,1]);return multiply3(m,[[v[0],0,0],[0,v[1],0],[0,0,v[2]]]);}}\";\n  _f.__workletHash = 15115526798370;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:4944)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();\n\nexport var transform2d = function () {\n  var _f = function _f(params) {\n    var s = basisToPoints(params.canvas);\n    var d = basisToPoints(params.projected);\n    var t = multiply3(d, adjugate(s));\n    return [[t[0][0] / t[2][2], t[0][1] / t[2][2], t[0][2] / t[2][2]], [t[1][0] / t[2][2], t[1][1] / t[2][2], t[1][2] / t[2][2]], [t[2][0] / t[2][2], t[2][1] / t[2][2], 1]];\n  };\n\n  _f._closure = {\n    basisToPoints: basisToPoints,\n    multiply3: multiply3,\n    adjugate: adjugate\n  };\n  _f.asString = \"function transform2d(params){const{basisToPoints,multiply3,adjugate}=jsThis._closure;{var s=basisToPoints(params.canvas);var d=basisToPoints(params.projected);var t=multiply3(d,adjugate(s));return[[t[0][0]/t[2][2],t[0][1]/t[2][2],t[0][2]/t[2][2]],[t[1][0]/t[2][2],t[1][1]/t[2][2],t[1][2]/t[2][2]],[t[2][0]/t[2][2],t[2][1]/t[2][2],1]];}}\";\n  _f.__workletHash = 4273212888593;\n  _f.__location = \"/workspace/stream-pay/node_modules/react-native-redash/lib/module/Matrix3.js (1:5208)\";\n\n  global.__reanimatedWorkletInit(_f);\n\n  return _f;\n}();","map":{"version":3,"sources":["Matrix3.ts"],"names":["parseAngle","angle","parseFloat","Math","isTranslateX","Object","isTranslateY","isScale","isScaleX","isScaleY","isSkewX","isSkewY","isRotate","isRotateZ","exhaustiveCheck","identityMatrix","translateXMatrix","translateYMatrix","scaleMatrix","scaleXMatrix","scaleYMatrix","skewXMatrix","skewYMatrix","rotateZMatrix","dot3","row","col","matrixVecMul3","m","multiply3","col0","m2","col1","col2","m1","serializeToSVGMatrix","svgMatrix","processTransform2d","transforms","transform","isMatrix3","arg","decompose2d","a","b","c","d","translateX","translateY","E","F","G","H","Q","R","scaleX","scaleY","a1","a2","theta","phi","rotateZ","adjugate","basisToPoints","p1","p2","p3","p4","v","transform2d","s","params","t"],"mappings":"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","sourcesContent":["/* eslint-disable prefer-destructuring */\nimport type { Vector } from \"./Vectors\";\n\nexport type Vec3 = readonly [number, number, number];\n\nexport type Matrix3 = readonly [Vec3, Vec3, Vec3];\n\nexport interface TransformProp {\n  transform: Transforms2d;\n}\n\ntype Transformations = {\n  translateX: number;\n  translateY: number;\n  scale: number;\n  skewX: string;\n  skewY: string;\n  scaleX: number;\n  scaleY: number;\n  rotateZ: string;\n  rotate: string;\n};\n\nexport type Transforms2d = (\n  | Pick<Transformations, \"translateX\">\n  | Pick<Transformations, \"translateY\">\n  | Pick<Transformations, \"scale\">\n  | Pick<Transformations, \"scaleX\">\n  | Pick<Transformations, \"scaleY\">\n  | Pick<Transformations, \"skewX\">\n  | Pick<Transformations, \"skewY\">\n  | Pick<Transformations, \"rotate\">\n  | Pick<Transformations, \"rotateZ\">\n)[];\n\nexport const parseAngle = (angle: string) => {\n  \"worklet\";\n  if (angle.endsWith(\"deg\")) {\n    return parseFloat(angle) * (Math.PI / 180);\n  }\n  return parseFloat(angle);\n};\n\nexport const isTranslateX = (\n  transform: Transforms2d[0]\n): transform is Pick<Transformations, \"translateX\"> => {\n  \"worklet\";\n  return Object.keys(transform).indexOf(\"translateX\") !== -1;\n};\n\nexport const isTranslateY = (\n  transform: Transforms2d[0]\n): transform is Pick<Transformations, \"translateY\"> => {\n  \"worklet\";\n  return Object.keys(transform).indexOf(\"translateY\") !== -1;\n};\n\nexport const isScale = (\n  transform: Transforms2d[0]\n): transform is Pick<Transformations, \"scale\"> => {\n  \"worklet\";\n  return Object.keys(transform).indexOf(\"scale\") !== -1;\n};\n\nexport const isScaleX = (\n  transform: Transforms2d[0]\n): transform is Pick<Transformations, \"scaleX\"> => {\n  \"worklet\";\n  return Object.keys(transform).indexOf(\"scaleX\") !== -1;\n};\n\nexport const isScaleY = (\n  transform: Transforms2d[0]\n): transform is Pick<Transformations, \"scaleY\"> => {\n  \"worklet\";\n  return Object.keys(transform).indexOf(\"scaleY\") !== -1;\n};\n\nexport const isSkewX = (\n  transform: Transforms2d[0]\n): transform is Pick<Transformations, \"skewX\"> => {\n  \"worklet\";\n  return Object.keys(transform).indexOf(\"skewX\") !== -1;\n};\n\nexport const isSkewY = (\n  transform: Transforms2d[0]\n): transform is Pick<Transformations, \"skewY\"> => {\n  \"worklet\";\n  return Object.keys(transform).indexOf(\"skewY\") !== -1;\n};\n\nexport const isRotate = (\n  transform: Transforms2d[0]\n): transform is Pick<Transformations, \"rotate\"> => {\n  \"worklet\";\n  return Object.keys(transform).indexOf(\"rotate\") !== -1;\n};\n\nexport const isRotateZ = (\n  transform: Transforms2d[0]\n): transform is Pick<Transformations, \"rotateZ\"> => {\n  \"worklet\";\n  return Object.keys(transform).indexOf(\"rotateZ\") !== -1;\n};\n\nconst exhaustiveCheck = (a: never): never => {\n  \"worklet\";\n  throw new Error(`Unexhaustive handling for ${a}`);\n};\n\nconst identityMatrix: Matrix3 = [\n  [1, 0, 0],\n  [0, 1, 0],\n  [0, 0, 1],\n];\n\nconst translateXMatrix = (x: number): Matrix3 => {\n  \"worklet\";\n  return [\n    [1, 0, x],\n    [0, 1, 0],\n    [0, 0, 1],\n  ];\n};\n\nconst translateYMatrix = (y: number): Matrix3 => {\n  \"worklet\";\n  return [\n    [1, 0, 0],\n    [0, 1, y],\n    [0, 0, 1],\n  ];\n};\n\nconst scaleMatrix = (s: number): Matrix3 => {\n  \"worklet\";\n  return [\n    [s, 0, 0],\n    [0, s, 0],\n    [0, 0, 1],\n  ];\n};\n\nconst scaleXMatrix = (s: number): Matrix3 => {\n  \"worklet\";\n  return [\n    [s, 0, 0],\n    [0, 1, 0],\n    [0, 0, 1],\n  ];\n};\n\nconst scaleYMatrix = (s: number): Matrix3 => {\n  \"worklet\";\n  return [\n    [1, 0, 0],\n    [0, s, 0],\n    [0, 0, 1],\n  ];\n};\n\nconst skewXMatrix = (s: number): Matrix3 => {\n  \"worklet\";\n  return [\n    [1, Math.tan(s), 0],\n    [0, 1, 0],\n    [0, 0, 1],\n  ];\n};\n\nconst skewYMatrix = (s: number): Matrix3 => {\n  \"worklet\";\n  return [\n    [1, 0, 0],\n    [Math.tan(s), 1, 0],\n    [0, 0, 1],\n  ];\n};\n\nconst rotateZMatrix = (r: number): Matrix3 => {\n  \"worklet\";\n  return [\n    [Math.cos(r), -1 * Math.sin(r), 0],\n    [Math.sin(r), Math.cos(r), 0],\n    [0, 0, 1],\n  ];\n};\n\nexport const dot3 = (row: Vec3, col: Vec3) => {\n  \"worklet\";\n  return row[0] * col[0] + row[1] * col[1] + row[2] * col[2];\n};\n\nexport const matrixVecMul3 = (m: Matrix3, v: Vec3) => {\n  \"worklet\";\n  return [dot3(m[0], v), dot3(m[1], v), dot3(m[2], v)] as const;\n};\n\nexport const multiply3 = (m1: Matrix3, m2: Matrix3) => {\n  \"worklet\";\n  const col0 = [m2[0][0], m2[1][0], m2[2][0]] as const;\n  const col1 = [m2[0][1], m2[1][1], m2[2][1]] as const;\n  const col2 = [m2[0][2], m2[1][2], m2[2][2]] as const;\n  return [\n    [dot3(m1[0], col0), dot3(m1[0], col1), dot3(m1[0], col2)],\n    [dot3(m1[1], col0), dot3(m1[1], col1), dot3(m1[1], col2)],\n    [dot3(m1[2], col0), dot3(m1[2], col1), dot3(m1[2], col2)],\n  ] as const;\n};\n\nconst serializeToSVGMatrix = (m: Matrix3) => {\n  \"worklet\";\n  return `matrix(${m[0][0]}, ${m[1][0]}, ${m[0][1]}, ${m[1][1]}, ${m[0][2]}, ${m[1][2]})`;\n};\n\nexport const svgMatrix = (transforms: Transforms2d) => {\n  \"worklet\";\n  return serializeToSVGMatrix(processTransform2d(transforms));\n};\n\nexport const processTransform2d = (transforms: Transforms2d) => {\n  \"worklet\";\n  return transforms.reduce((acc, transform) => {\n    if (isTranslateX(transform)) {\n      return multiply3(acc, translateXMatrix(transform.translateX));\n    }\n    if (isTranslateY(transform)) {\n      return multiply3(acc, translateYMatrix(transform.translateY));\n    }\n    if (isScale(transform)) {\n      return multiply3(acc, scaleMatrix(transform.scale));\n    }\n    if (isScaleX(transform)) {\n      return multiply3(acc, scaleXMatrix(transform.scaleX));\n    }\n    if (isScaleY(transform)) {\n      return multiply3(acc, scaleYMatrix(transform.scaleY));\n    }\n    if (isSkewX(transform)) {\n      return multiply3(acc, skewXMatrix(parseAngle(transform.skewX)));\n    }\n    if (isSkewY(transform)) {\n      return multiply3(acc, skewYMatrix(parseAngle(transform.skewY)));\n    }\n    if (isRotate(transform)) {\n      return multiply3(acc, rotateZMatrix(parseAngle(transform.rotate)));\n    }\n    if (isRotateZ(transform)) {\n      return multiply3(acc, rotateZMatrix(parseAngle(transform.rotateZ)));\n    }\n    return exhaustiveCheck(transform);\n  }, identityMatrix);\n};\n\nconst isMatrix3 = (arg: Matrix3 | Transforms2d): arg is Matrix3 => {\n  \"worklet\";\n  return arg.length === 3 && arg[0] instanceof Array;\n};\n\n// https://math.stackexchange.com/questions/13150/extracting-rotation-scale-values-from-2d-transformation-matrix\nexport const decompose2d = (arg: Matrix3 | Transforms2d) => {\n  \"worklet\";\n  const m = isMatrix3(arg) ? arg : processTransform2d(arg);\n  const a = m[0][0];\n  const b = m[1][0];\n  const c = m[0][1];\n  const d = m[1][1];\n  const translateX = m[0][2];\n  const translateY = m[1][2];\n  const E = (a + d) / 2;\n  const F = (a - d) / 2;\n  const G = (c + b) / 2;\n  const H = (c - b) / 2;\n  const Q = Math.sqrt(Math.pow(E, 2) + Math.pow(H, 2));\n  const R = Math.sqrt(Math.pow(F, 2) + Math.pow(G, 2));\n  const scaleX = Q + R;\n  const scaleY = Q - R;\n  const a1 = Math.atan2(G, F);\n  const a2 = Math.atan2(H, E);\n  const theta = (a2 - a1) / 2;\n  const phi = (a2 + a1) / 2;\n  return [\n    { translateX },\n    { translateY },\n    { rotateZ: -1 * theta },\n    { scaleX },\n    { scaleY },\n    { rotateZ: -1 * phi },\n  ] as const;\n};\n\nconst adjugate = (m: Matrix3) => {\n  \"worklet\";\n  return [\n    [\n      m[1][1] * m[2][2] - m[1][2] * [2][1],\n      m[0][2] * [2][1] - m[0][1] * [2][2],\n      m[0][1] * [1][2] - m[0][2] * [1][1],\n    ],\n    [\n      m[1][2] * [2][0] - m[1][0] * [2][2],\n      m[0][0] * [2][2] - m[0][2] * [2][0],\n      m[0][2] * [1][0] - m[0][0] * [1][2],\n    ],\n    [\n      m[1][0] * [2][1] - m[1][1] * [2][0],\n      m[0][1] * [2][0] - m[0][0] * [2][1],\n      m[0][0] * [1][1] - m[0][1] * [1][0],\n    ],\n  ] as const;\n};\n\ninterface Quadrilateral {\n  p1: Vector;\n  p2: Vector;\n  p3: Vector;\n  p4: Vector;\n}\n\ninterface Parameters {\n  canvas: Quadrilateral;\n  projected: Quadrilateral;\n}\n\nconst basisToPoints = ({ p1, p2, p3, p4 }: Quadrilateral) => {\n  \"worklet\";\n  const m = [\n    [p1.x, p2.x, p3.x],\n    [p1.y, p2.y, p3.y],\n    [1, 1, 1],\n  ] as const;\n  const v = matrixVecMul3(adjugate(m), [p4.x, p4.y, 1]);\n  return multiply3(m, [\n    [v[0], 0, 0],\n    [0, v[1], 0],\n    [0, 0, v[2]],\n  ]);\n};\n\n// https://math.stackexchange.com/questions/296794/finding-the-transform-matrix-from-4-projected-points-with-javascript\n// https://franklinta.com/2014/09/08/computing-css-matrix3d-transforms/\n// http://jsfiddle.net/dFrHS/1/\nexport const transform2d = (params: Parameters) => {\n  \"worklet\";\n  const s = basisToPoints(params.canvas);\n  const d = basisToPoints(params.projected);\n  const t = multiply3(d, adjugate(s));\n  return [\n    [t[0][0] / t[2][2], t[0][1] / t[2][2], t[0][2] / t[2][2]],\n    [t[1][0] / t[2][2], t[1][1] / t[2][2], t[1][2] / t[2][2]],\n    [t[2][0] / t[2][2], t[2][1] / t[2][2], 1],\n  ] as const;\n};\n"]},"metadata":{},"sourceType":"module"}