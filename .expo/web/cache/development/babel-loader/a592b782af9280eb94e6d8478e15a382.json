{"ast":null,"code":"'use strict';\n\nvar resolvedPromise;\nexport default function queueMicrotask(callback) {\n  if (arguments.length < 1) {\n    throw new TypeError('queueMicrotask must be called with at least one argument (a function to call)');\n  }\n\n  if (typeof callback !== 'function') {\n    throw new TypeError('The argument to queueMicrotask must be a function.');\n  }\n\n  (resolvedPromise || (resolvedPromise = Promise.resolve())).then(callback).catch(function (error) {\n    return setTimeout(function () {\n      throw error;\n    }, 0);\n  });\n}","map":{"version":3,"sources":["/workspace/stream-pay/node_modules/react-native/Libraries/Core/Timers/queueMicrotask.js"],"names":["resolvedPromise","queueMicrotask","callback","arguments","length","TypeError","Promise","resolve","then","catch","error","setTimeout"],"mappings":"AAUA;;AAEA,IAAIA,eAAJ;AASA,eAAe,SAASC,cAAT,CAAwBC,QAAxB,EAA4C;AACzD,MAAIC,SAAS,CAACC,MAAV,GAAmB,CAAvB,EAA0B;AACxB,UAAM,IAAIC,SAAJ,CACJ,+EADI,CAAN;AAGD;;AACD,MAAI,OAAOH,QAAP,KAAoB,UAAxB,EAAoC;AAClC,UAAM,IAAIG,SAAJ,CAAc,oDAAd,CAAN;AACD;;AAGD,GAACL,eAAe,KAAKA,eAAe,GAAGM,OAAO,CAACC,OAAR,EAAvB,CAAhB,EACGC,IADH,CACQN,QADR,EAEGO,KAFH,CAES,UAAAC,KAAK;AAAA,WAEVC,UAAU,CAAC,YAAM;AACf,YAAMD,KAAN;AACD,KAFS,EAEP,CAFO,CAFA;AAAA,GAFd;AAQD","sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @format\n * @flow\n */\n\n'use strict';\n\nlet resolvedPromise;\n\n/**\n * Polyfill for the microtask queuening API defined by WHATWG HTMP spec.\n * https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-queuemicrotask\n *\n * The method must queue a microtask to invoke @param {function} callback, and\n * if the callback throws an exception, report the exception.\n */\nexport default function queueMicrotask(callback: Function) {\n  if (arguments.length < 1) {\n    throw new TypeError(\n      'queueMicrotask must be called with at least one argument (a function to call)',\n    );\n  }\n  if (typeof callback !== 'function') {\n    throw new TypeError('The argument to queueMicrotask must be a function.');\n  }\n\n  // Try to reuse a lazily allocated resolved promise from closure.\n  (resolvedPromise || (resolvedPromise = Promise.resolve()))\n    .then(callback)\n    .catch(error =>\n      // Report the exception until the next tick.\n      setTimeout(() => {\n        throw error;\n      }, 0),\n    );\n}\n"]},"metadata":{},"sourceType":"module"}